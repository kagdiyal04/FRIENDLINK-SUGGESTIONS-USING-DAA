{% extends 'base.html' %}

{% block title %}Friend Suggestions - FriendLink{% endblock %}

{% block content %}
<h2>Friend Suggestions for {{ username }}</h2>

<div class="row">
  <div class="col-md-6">
    <h4>Mutual Friend Suggestions</h4>
    {% if mutual_suggestions %}
      <ul class="list-group mb-4">
        {% for uid, uname in mutual_suggestions %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ uname }}
            <a href="{{ url_for('add_new_friend', friend_id=uid) }}" class="btn btn-sm btn-primary">Add Friend</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No mutual friend suggestions available.</p>
    {% endif %}
  </div>

  <div class="col-md-6">
    <h4>Similar Interest / Location Suggestions</h4>
    {% if similar_suggestions %}
      <ul class="list-group mb-4">
       {% for suggestion in similar_suggestions %}
         <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ suggestion.name }} ({{ suggestion.location }})
            <a href="{{ url_for('add_new_friend', friend_id=suggestion.user_id) }}" class="btn btn-sm btn-primary">Add Friend</a>
            <a href="{{ url_for('ignore', ignored_id=suggestion.user_id) }}" class="btn btn-sm btn-secondary ms-2">Ignore</a>
         </li>
        {% endfor %}

      </ul>
    {% else %}
      <p>No similar suggestions available.</p>
    {% endif %}
  </div>
</div>

<hr />

<h4>Your Friends</h4>
{% if friend_list %}
<form method="post" action="{{ url_for('delete_existing_friend') }}">
  <ul class="list-group mb-3">
    {% for fid, fname in friend_list %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ fname }}
        <button type="submit" name="friend_id" value="{{ fid }}" class="btn btn-sm btn-danger">Remove</button>
      </li>
    {% endfor %}
  </ul>
</form>
{% else %}
<p>You have no friends added yet.</p>
{% endif %}

{% endblock %}
